{
    "title": "6214 - Adaptation of RFC 1149 for IPv6",
    "content": "<div class='large-2 medium-1 cell'></div> <!-- Empty left column --><div class='large-10 medium-11 small-12'><nav aria-label='You are here:'><ul class='breadcrumbs'><li><a href='#'>Home</a></li><li><a href='#'>RFCs</a></li><li><a href='#'>Avian Carriers</a></li><li><span class='show-for-sr'>Current: </span> Adaptation of RFC1149 for IPv6</li></ul></nav></div><div class='large-2 medium-1'></div><h1 class='large-8 medium-10 small-12'>Adaptation of RFC1149 for IPv6</h1><div class='large-2 medium-1'></div><div class='large-2 medium-1 cell'></div> <!-- Empty left column --><section id='mainContent' class='large-8 medium-11 small-12 cell'><div class='large-2 medium-1 cell'></div> <!-- Empty left column --><div id='sourceAndAuthor' class='large-9 medium-11 small-12 cell grid-x'><div class='large-6 medium-6 small-6'><h2>Source</h2><p>Independent Submission\nRequest for Comments: 6214\nCategory: Informational\nISSN: 2070-1721</p></div><div class='large-6 medium-6 small-6'><h2>Author</h2><p>B. Carpenter\nUniv. of Auckland\nR. Hinden\nCheck Point Software1 April2011</p></div></div><section><h2>Table of Contents</h2><nav><ol><li><a href='#introduction'>1.</a>  Introduction</li><li><a href='#normativeNotation'>2.</a>  Normative Notation</li><li><a href='#detailedSpecification'>3.</a>  Detailed Specification<ol><li><a href='#maximumTransmissionUnit'>3.1.</a>  Maximum Transmission Unit</li><li><a href='#frameFormat'>3.2.</a>  Frame Format</li><li><a href='#addressConfiguration'>3.3.</a>  Address Configuration</li><li><a href='#multicast'>3.4.</a>  Multicast</li></ol></li><li><a href='#qualityOfServiceConsiderations'>4.</a>  Quality-of-Service Considerations</li><li><a href='#routingAndTunnelingConsiderations'>5.</a>  Routing and Tunneling Considerations</li><li><a href='#multihomingConsiderations'>6.</a>  Multihoming Considerations</li><li><a href='#internationalizationConsiderations'>7.</a>  Internationalization Considerations</li><li><a href='#securityConsiderations'>8.</a>  Security Considerations</li><li><a href='#ianaConsiderations'>9.</a>  IANA Considerations</li><li><a href='#acknowledgements'>10.</a> Acknowledgements</li><li><a href='#references'>11.</a> References<ol><li><a href='#normativeNotation'>11.1.</a> Normative References<li><a href='#informativeReferences'>11.2.</a> Informative References</ol></li></ol></nav></section><!-- contenu --><section><h2 id='introduction'>1.  Introduction</h2><p>As shown by[<a href='#'>RFC6036</a>], many service providers are actively planning\nto deploy IPv6 to alleviate the imminent shortage of IPv4 addresses.\nThis will affect all service providers who have implemented[<a href='#'>RFC1149</a>].\nIt is therefore necessary, indeed urgent, to specify a\nmethod of transmitting IPv6 datagrams[<a href='#'>RFC2460</a>] over the <a href='#'>RFC1149</a>\nmedium, rather than obliging those service providers to migrate to a\ndifferent medium. This document offers such a specification.</p><h2 id='normativeNotation'>2.  Normative Notation</h2><p>The key words'MUST',\n'MUST NOT',\n'REQUIRED',\n'SHALL',\n'SHALL NOT',\n'SHOULD',\n'SHOULD NOT',\n'RECOMMENDED',\n'MAY', and'OPTIONAL' in this document are to be interpreted as described in[<a href='#'>RFC2119</a>].</p><h2 id='detailedSpecification'>3.  Detailed Specification</h2><p>Unless otherwise stated, the provisions of[<a href='#'>RFC1149</a>] and[<a href='#'>RFC2460</a>]\napply throughout.</p><h2 id='maximumTransmissionUnit'>3.1.  Maximum Transmission Unit</h2><p>As noted in <a href='#'>RFC1149</a>, the MTU is variable, and generally increases\nwith increased carrier age.  Since the minimum link MTU allowed by\n<a href='#'>RFC2460</a> is1280 octets, this means that older carriers MUST be used\nfor IPv6. <a href='#'>RFC1149</a> does not provide exact conversion factors between\nage and milligrams, or between milligrams and octets.  These\nconversion factors are implementation dependent, but as an\nillustrative example, we assume that the256 milligram MTU suggested\nin <a href='#'>RFC1149</a> corresponds to an MTU of576 octets.  In that case, the\ntypical MTU for the present specification will be at least256*1280/576, which is approximately569 milligrams.  Again as an\nillustrative example, this is likely to require a carrier age of at\nleast 365 days.\n\nFurthermore, the MTU issues are non-linear with carrier age.  That\nis, a young carrier can only carry small payloads, an adult carrier\ncan carry jumbograms[<a href='#'>RFC2675</a>], and an elderly carrier can again\ncarry only smaller payloads.  There is also an effect on transit time\ndepending on carrier age, affecting bandwidth-delay product and hence\nthe performance of TCP.</p><h2 id='frameFormat'>3.2.  Frame Format</h2><p><a href='#'>RFC1149</a> does not specify the use of any link layer tag such as an\nEthertype or, worse, an OSI Link Layer or SNAP header[<a href='#'>RFC1042</a>].\nIndeed, header snaps are known to worsen the quality of service\nprovided by <a href='#'>RFC1149</a> carriers. In the interests of efficiency and to\navoid excessive energy consumption while packets are in flight\nthrough the network, no such link layer tag is required for IPv6\npackets either.  The frame format is therefore a pure IPv6 packet as\ndefined in[<a href='#'>RFC2460</a>], encoded and decoded as defined in[<a href='#'>RFC1149</a>].\n\nOne important consequence of this is that in a dual-stack deployment[<a href='#'>RFC4213</a>],\nthe receiver MUST inspect the IP protocol version number\nin the first four bits of every packet, as the only means to\ndemultiplex a mixture of IPv4 and IPv6 packets.</p><h2 id='addressConfiguration'>3.3.  Address Configuration</h2><p>The lack of any form of link layer protocol means that link-local\naddresses cannot be formed, as there is no way to address anything\nexcept the other end of the link.\n\nSimilarly, there is no method to map an IPv6 unicast address to a\nlink layer address, since there is no link layer address in the first\nplace.  IPv6 Neighbor Discovery[<a href='#'>RFC4861</a>] is therefore impossible.\n\nImplementations SHOULD NOT even try to use stateless address auto-\nconfiguration[<a href='#'>RFC4862</a>].\nThis recommendation is because this mechanism requires a stable\ninterface identifier formed in a way compatible with[<a href='#'>RFC4291</a>].\nUnfortunately the transmission elements\nspecified by <a href='#'>RFC1149</a> are not generally stable enough for this and\nmay become highly unstable in the presence of a cross-wind.\n\nIn most deployments, either the end points of the link remain\nunnumbered, or a /127 prefix and static addresses MAY be assigned.\nSee[<a href='#'>IPv6-PREFIXLEN</a>] for further discussion.</p><h2 id='multicast'>3.4.  Multicast</h2><p><a href='#'>RFC1149</a> does not specify a multicast address mapping.  It has been\nreported that attempts to implement IPv4 multicast delivery have\nresulted in excessive noise in transmission elements, with subsequent\ndrops of packet digests.  At the present time, an IPv6 multicast\nmapping has not been specified, to avoid such problems.</p><h2 id='qualityOfServiceConsiderations'>4.  Quality-of-Service Considerations</h2><p>[<a href='#'>RFC2549</a>] is also applicable in the IPv6 case.  However, the author\nof <a href='#'>RFC2549</a> did not take account of the availability of the\nDifferentiated Services model[<a href='#'>RFC2474</a>\n].  IPv6 packets carrying a\nnon-default Differentiated Services Code Point (DSCP) value in their\nTraffic Class field[<a href='#'>RFC2460</a>\n] MUST be specially encoded using green\nor blue ink such that the DSCP is externally visible.  Note that red\nink MUST NOT be used to avoid confusion with the usage of red paint\nspecified in <a href='#'>RFC2549</a>.\n\n<a href='#'>RFC2549</a> did not consider the impact on quality of service of\ndifferent types of carriers.  There is a broad range.  Some are very\nfast but can only carry small payloads and transit short distances,\nothers are slower but carry large payloads and transit very large\ndistances.  It may be appropriate to select the individual carrier\nfor a packet on the basis of its DSCP value.  Indeed, different\ncarriers will implement different per-hop behaviors according to <a href='#'>RFC2474</a>.</p><h2 id='routingAndTunnelingConsiderations'>5.  Routing and Tunneling Considerations</h2><p>Routing carriers through the territory of similar carriers, without\npeering agreements, will sometimes cause abrupt route changes,\nlooping packets, and out-of-order delivery.  Similarly, routing\ncarriers through the territory of predatory carriers may potentially\ncause severe packet loss.  It is strongly recommended that these\nfactors be considered in the routing algorithm used to create carrier\nrouting tables.  Implementers should consider policy-based routing to\nensure reliable packet delivery by routing around areas where\nterritorial and predatory carriers are prevalent.\n\nThere is evidence that some carriers have a propensity to eat other\ncarriers and then carry the eaten payloads.  Perhaps this provides a\nnew way to tunnel an IPv4 packet in an IPv6 payload, or vice versa.\n\nHowever, the decapsulation mechanism is unclear at the time of this\nwriting.</p><h2 id='multihomingConsiderations'>6.  Multihoming Considerations</h2><p>Some types of carriers are notoriously good at homing.  Surprisingly,\nthis property is not mentioned in <a href='#'>RFC1149</a>.  Unfortunately, they\nprove to have no talent for multihoming, and in fact enter a routing\nloop whenever multihoming is attempted.  This appears to be a\nfundamental restriction on the topologies in which both <a href='#'>RFC1149</a> and\nthe present specification can be deployed.</p><h2 id='internationalizationConsiderations'>7.  Internationalization Considerations</h2><p>In some locations, such as New Zealand, a significant proportion of\ncarriers are only able to execute short hops, and only at times when\nthe background level of photon emission is extremely low.  This will\nimpact the availability and throughput of the solution in such\nlocations.</p><h2 id='securityConsiderations'>8.  Security Considerations</h2><p>The security considerations of[<a href='#'>RFC1149</a>] apply.  In addition, recent\nexperience suggests that the transmission elements are exposed to\nmany different forms of denial-of-service attacks, especially when\nperching.  Also, the absence of link layer identifiers referred to\nabove, combined with the lack of checksums in the IPv6 header,\nbasically means that any transmission element could be mistaken for\nany other, with no means of detecting the substitution at the network\nlayer.  The use of an upper-layer security mechanism of some kind\nseems like a really good idea.\n\nThere is a known risk of infection by the so-called H5N1 virus.\nAppropriate detection and quarantine measures MUST be available.</p><h2 id='ianaConsiderations'>9.  IANA Considerations</h2><p>This document requests no action by IANA.  However, registry clean-up\nmay be necessary after interoperability testing, especially if\nmulticast has been attempted.</p><h2 id='acknowledgements'>10.  Acknowledgements</h2><p>Steve Deering was kind enough to review this document for conformance\nwith IPv6 requirements.  We acknowledge in advance the many errata in\nthis document that will be reported by Alfred Hoenes.\n\nThis document was produced using the xml2rfc tool[<a href='#'>RFC2629</a>].</p><h2 id='references'>11.  References</h2><h2 id='normativeReferences'>11.1.  Normative References</h2><p>[RFC1149]         Waitzman, D., 'Standard for the transmission of IP\ndatagrams on avian carriers', <a href='#'>RFC 1149</a>, April 1990.\n\n[RFC2119]         Bradner, S., 'Key words for use in RFCs to Indicate\nRequirement Levels', BCP 14, <a href='#'>RFC 2119</a>, March 1997.\n\n[RFC2460]         Deering, S. and R. Hinden, 'Internet Protocol,\nVersion6 (IPv6) Specification', <a href='#'>RFC 2460</a>,\nDecember 1998.\n\n[RFC2474]         Nichols, K., Blake, S., Baker, F., and D. Black,\n'Definition of the Differentiated Services Field\n(DS Field) in the IPv4 and IPv6 Headers', <a href='#'>RFC 2474</a>,\nDecember 1998.\n\n[RFC2675]         Borman, D., Deering, S., and R. Hinden, 'IPv6\nJumbograms', <a href='#'>RFC 2675</a>, August 1999.\n\n[RFC4213]         Nordmark, E. and R. Gilligan, 'Basic Transition\nMechanisms for IPv6 Hosts and Routers', <a href='#'>RFC 4213</a>,\nOctober 2005.</p><h2 id='informativeReferences'>11.2.  Informative References</h2><p>[IPv6-PREFIXLEN]  Kohno, M., Nitzan, B., Bush, R., Matsuzaki, Y.,\nColitti, L., and T. Narten, 'Using 127-bit IPv6\nPrefixes on Inter-Router Links', Work in Progress,\nOctober 2010.\n\n[RFC1042]       Postel, J. and J. Reynolds, 'Standard for the\ntransmission of IP datagrams over IEEE802\nnetworks', STD 43, <a href='#'>RFC 1042</a>, February 1988.\n\n[RFC2549]       Waitzman, D., 'IP over Avian Carriers with Quality\nof Service', <a href='#'>RFC 2549</a>, April 1999.\n\n[RFC2629]       Rose, M., 'Writing I-Ds and RFCs using XML',\n<a href='#'>RFC2629</a>, June 1999.\n\n[RFC4291]       Hinden, R. and S. Deering, 'IP Version 6 Addressing\nArchitecture', <a href='#'>RFC 4291</a>, February 2006.\n\n[RFC4861]       Narten, T., Nordmark, E., Simpson, W., and H.\nSoliman, 'Neighbor Discovery for IP version 6\n(IPv6)', <a href='#'>RFC 4861</a>, September 2007.\n\n[RFC4862]       Thomson, S., Narten, T., and T. Jinmei, 'IPv6\nStateless Address Autoconfiguration', <a href='#'>RFC 4862</a>,\nSeptember 2007.\n\n[RFC6036]       Carpenter, B. and S. Jiang, 'Emerging Service\nProvider Scenarios for IPv6 Deployment', <a href='#'>RFC 6036</a>,\nOctober 2010.</p></section><h2>Authors' Addresses</h2><address><p>Brian Carpenter\nDepartment of Computer Science\nUniversity of Auckland\nPB92019\nAuckland,\n1142\nNew Zealand\n\nEMail: brian.e.carpenter@gmail.com\n\n\nRobert M. Hinden\nCheck Point Software Technologies, Inc.800 Bridge Parkway\nRedwood City, CA94065\nUS\n\nPhone: +1.650.387.6118\nEMail: bob.hinden@gmail.com</p></address></section><aside class='large-2 medium-12 small-12 cell' id='tags'><div id='relatedArticles' role='tablist'><h3>Related articles</h3><a id='1' href='#' class='hollow button' role='tab' tabindex='-1' aria-selected='false'><i class='fi-link'></i> A Standard for the Transmission of IP Datagrams on Avian Carriers</a><a id='2' href='#' class='hollow button' role='tab' tabindex='-1' aria-selected='false'><i class='fi-link'></i> IP over Avian Carriers with Quality of Service</a><a id='3' href='#' class='button primary' role='tab' tabindex='0' aria-selected='true'><i class='fi-link'></i> Adaptation of RFC 1149 for IPv6</a></div><div id='tagsContainer'><h3>Tags</h3><button class='hollow button'><i class='fi-price-tag'></i> RFC</button> <button class='hollow button'><i class='fi-price-tag'></i> Avian Carriers</button> <button class='hollow button'><i class='fi-price-tag'></i> IPV6</button></div></aside>"
}
